<section id="dish-details">
    <header>
        <div class="row">
            <div class="col-md-6">
                <h2>{{ dish.label }}</h2>
                <h4>{{ dishCategory.label }}</h4>
            </div>
            <div class="col-md-6 text-right">
                <div>
                    Ocena: {{ rating }}
                </div>
                <div class="rating-stars">
                    <i ng-if="!rated" ng-repeat="rating in [1, 2, 3, 4, 5]" ng-click="rateDish(dish._id, rating)" class="fa fa-star" aria-hidden="true" data-rating-star></i>
                </div>
            </div>
        </div>
    </header>
    <div class="description">
        {{ dish.description }}
    </div>
    <div class="gallery">

        <div id="dish-photos" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner" role="listbox">
                <div ng-repeat="photo in dish.photos track by $index" class="carousel-item" ng-class="{active: $index==0}">
                    <img class="d-block img-fluid" src="{{ photo }}">
                </div>
            </div>
            <a class="carousel-control-prev" href="#dish-photos" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#dish-photos" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
            <ol class="carousel-indicators">
                <li ng-repeat="photo in dish.photos track by $index"
                    data-target="#dish-photos"
                    data-slide-to="{{ $index }}" ng-class="{active: $index==0}">
                    <img class="d-block img-fluid" src="{{ photo }}">
                </li>
            </ol>
        </div>

    </div>
    <div class="comments">
        <div class="form">
            <div class="form-group">
              <input ng-model="dishComment.author" type="text" class="form-control" placeholder="autor">
            </div>
            <div class="form-group">
              <textarea ng-model="dishComment.comment" class="form-control" rows="5" placeholder="komentarz"></textarea>
            </div>
            <div class="text-right">
                <button ng-click="addDishComment(dish._id)" class="btn btn-success cursor-pointer">
                    Dodaj komentarz
                </button>
            </div>
        </div>
        <div class="list">
            <div ng-repeat="dishComment in dishComments" class="row">
                <div class="col-md-12">
                    <div class="author">
                        <span class="text-italic">{{dishComment.dateAdded | date:'yyyy-MM-dd H:m'}}</span> <strong>{{ dishComment.author }}</strong>
                    </div>
                    <div class="comment">
                        {{ dishComment.comment }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
